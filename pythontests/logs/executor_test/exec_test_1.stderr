Incompatible type of return value or missing return of non-void function